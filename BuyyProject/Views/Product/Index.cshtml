@using EntityLayer.Concrete
@model List<Product>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@*@{ string color = "";
    string checkStatus = "";
    string statusColor = "";
}*@
<!DOCTYPE html>
<br />
<h3 style="margin-left:40%;color:blueviolet">ÜRÜNLER</h3>
<a href="/Product/AddProduct" class="btn btn-info" style="margin-left:85%;padding:15px">Yeni Ürün</a>
<br />
<br />
<table class="table table-hover" style="background-color:plum">

    <tr style="background-color:indigo;color:white">
        <th>#</th>
        <th>Ürün Adı</th>
        <th>Katgeori Adı</th>
        <th>Açıklama</th>
        <th>Fiyat</th>
        <th>Durum</th>
        <th>Güncelle</th>
        <th>Sil</th>
    </tr>
    @foreach (var item in Model)
    {
<tr>
    <td>@item.ProductID</td>
    <td>@item.Name</td>
    <td>@item.Category.CategoryName</td>
    <td>@item.ProductDescription</td>
    <td>@item.ProductPrice</td>
    <td>@item.ProductStatus</td>

    <td><a href="/Product/EditProduct/@item.ProductID" class="btn btn-warning">Güncelle</a></td>
    <td>
        <div class="container">
            <!-- Button to Open the Modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal"
                    data-target="#myModal" data-todelete="/Product/DeleteProduct/@item.ProductID">
                SİL
            </button>

            <!-- The Modal -->
            <div class="modal" id="myModal">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h4 class="modal-title">Silmek İstedğinizden Emin Misiniz?</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>

                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <a id="btn-delete" href="" class="btn btn-danger">Sil</a>
                            @*<button type="button" class="btn btn-danger" data-dismiss="modal" href="/AdminCategory/DeleteCategory/@item.CategoryID">Sil</button>*@
                        </div>
                        @*<a ></a>*@
                    </div>
                </div>
            </div>

            <script>
 //Modal Script
                        $('#myModal').on('show.bs.modal', function (event) {
                            var button = $(event.relatedTarget)
                            var recipient = button.data('todelete')

                            var modal = $(this)
                            modal.find('#btn-delete').attr("href", recipient)
                            modal.find('.modal-body input').val(recipient)
                        })
            </script>

        </div>
    </td>
</tr>
    }
</table>
